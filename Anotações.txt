fetch retorna uma unica linha, como array associativo, numérico ou objeto.

fetchAll retorna todas as linhas do resultado como array de arrays e objetos.

fetchColumn retorna o valor de uma única coluna.

//

INNER JOIN -> serve para combinar linhas de duas ou mais tabelas em um unico resultado.

ON DUPLICATE KEY UPDATE -> verifica se a chave já existe, se sim atualiza os valores

ORDER BY ASC -> ordena resultados de forma crescente (DESC -> decrecente)

SELECT MAX() -> procura o maior valor de uma coluna

GROUP BY -> agrupa resultados 

SELECT COUNT -> usado para contar a quantidade de linhas do resultado

GROUP_CONCAT() -> retorna vários valores 

// 

No login é verificado e salvo no setUserType usando a variavel $_SESSION, e getUserType usa o valor salvo na variavel $_SESSION. E em cada requisição o middleware chama getUserType para obter o tipo de usuário.

Explicação $_SESSION -> O PHP usa a superglobal $_SESSION para armazenar informações que persistem entre diferentes requisições do mesmo usuário. Essas informações são salvas em cookie que é usado para identificar a sessão do usuário.

